(globalThis.webpackChunkixl_webpack=globalThis.webpackChunkixl_webpack||[]).push([["commons-ixl_header_navigation_generalNotifications_liveMessage_shared_components_BaseAirplane-27809a"],{838024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s=n(406042),r=n(745247),a=n.n(r),o=n(103024),i=n.n(o),l=n(291481),c=n(810033),d=n(140661);let u={buttonType:a().string.isRequired,acknowledgementStatus:a().string.isRequired,isMessageSenderView:a().bool.isRequired,postAcknowledgement:a().func},m=e=>{let{buttonType:t,acknowledgementStatus:n,isMessageSenderView:r,postAcknowledgement:a}=e,o=n!==d.IQ.UNACKNOWLEDGED,u=i()("acknowledgement-button",{"got-it-button":t===d.IQ.GOT_IT,"thank-you-button":t===d.IQ.THANK_YOU,"confused-button":t===d.IQ.CONFUSED,"no-button":t===d.IQ.NO,disabled:r},{selected:o}),m=o?d.IQ.UNACKNOWLEDGED:t;return s.createElement("button",{className:u,onClick:e=>{let n;if(a(e),!o&&!r){switch(t){case d.IQ.GOT_IT:n=l.GA4_CLICK_TEXT.GOT_IT;break;case d.IQ.THANK_YOU:n=l.GA4_CLICK_TEXT.THANK_YOU;break;case d.IQ.CONFUSED:n=l.GA4_CLICK_TEXT.CONFUSED;break;case d.IQ.NO:n=l.GA4_CLICK_TEXT.NO;break;default:n=l.GA4_CLICK_TEXT.UNACKNOWLEDGED}(0,c.trackGA4Click)(l.GA4_FEATURE.LIVE_MESSAGE,l.GA4_MODULE.STUDENT_ACTIONS,l.GA4_BUTTON.REACTION,n)}},value:m})};m.propTypes=u,m.defaultProps={postAcknowledgement:null};let g=m},191969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(519693),n(684348),n(885991),n(541921);var s=n(406042),r=n(745247),a=n.n(r),o=n(140661),i=n(18687),l=n(172253),c=n(838024);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(null,arguments)}let u={message:a().oneOfType([i.Z,l.Z]).isRequired,acknowledgementStatusOverride:a().string,isMessageSenderView:a().bool.isRequired,postAcknowledgement:a().func,onMouseEnterAcknowledgementCounts:a().func,onMouseLeaveAcknowledgementCounts:a().func},m=(e,t,n)=>n.left<=e&&e<=n.right&&n.top<=t&&t<=n.bottom,g=e=>{let{isMessageSenderView:t,message:n,onMouseEnterAcknowledgementCounts:r,onMouseLeaveAcknowledgementCounts:a}=e,{studentUserIdsByAcknowledgementStatus:i}=n,[l,u]=(0,s.useState)(null),g=(0,s.useCallback)(e=>{r(e,n,l)},[r,n,l]),p=(0,s.useCallback)(e=>{let t,n,{clientX:s,clientY:r}=e,o=document.querySelector(".acknowledgement-counts-modal .ixl-modal");o&&(t=m(s,r,o.getBoundingClientRect()),n=m(s,r,l.getBoundingClientRect())),t||n||a(e)},[a,l]);if(t&&i){if(!Object.keys(i).length)return null;let t=[];return o.U8.forEach(n=>{n!==o.IQ.UNACKNOWLEDGED&&i[n]&&t.push(s.createElement("div",{key:n,className:"acknowledgement-count"},s.createElement(c.Z,d({buttonType:n,acknowledgementStatus:n},e)),i[n].length))}),s.createElement("div",{className:"acknowledgement-options-counts",onMouseEnter:g,onMouseLeave:p,ref:u},t)}let h=e.acknowledgementStatusOverride||n.acknowledgementStatus,f=h!==o.IQ.UNACKNOWLEDGED;if(f||t)if(!f&&t)return null;else return s.createElement("div",{className:"acknowledgement-options-selected"},s.createElement(c.Z,{buttonType:h,acknowledgementStatus:h,isMessageSenderView:e.isMessageSenderView,postAcknowledgement:e.postAcknowledgement}));{let t=o.U8.filter(e=>e!==o.IQ.UNACKNOWLEDGED).map(t=>s.createElement(c.Z,{key:t,buttonType:t,acknowledgementStatus:h,isMessageSenderView:e.isMessageSenderView,postAcknowledgement:e.postAcknowledgement}));return s.createElement("div",{className:"acknowledgement-options"},t)}};g.propTypes=u,g.defaultProps={acknowledgementStatusOverride:null,postAcknowledgement:null,onMouseEnterAcknowledgementCounts:()=>{},onMouseLeaveAcknowledgementCounts:()=>{}};let p=g},674404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n(406042),r=n(745247),a=n.n(r),o=n(103024),i=n.n(o);let l={filled:a().bool,sent:a().bool,hovered:a().bool,selected:a().bool,disabled:a().bool,extraClassName:a().string,onClick:a().func,onKeyDown:a().func,airplaneIconRef:a().func},c=e=>{let t=i()(["airplane-button",e.extraClassName],{"airplane-button":!0,filled:e.filled,sent:e.sent,hovered:e.hovered,selected:e.selected,disabled:e.disabled});return s.createElement("button",{className:t,onClick:e.onClick,onKeyDown:e.onKeyDown,ref:e.airplaneIconRef})};c.displayName="BaseAirplane",c.propTypes=l,c.defaultProps={filled:!1,sent:!1,hovered:!1,selected:!1,disabled:!1,extraClassName:null,onClick:void 0,onKeyDown:void 0,airplaneIconRef:()=>{}};let d=c},546817:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_}),n(519693),n(684348),n(541921),n(379228);var s=n(406042),r=n(745247),a=n.n(r),o=n(103024),i=n.n(o),l=n(18687),c=n(172253),d=n(230320),u=n(291481),m=n(810033),g=n(380742);n(618850);let p={callback:a().func},h=e=>{let{callback:t}=e,{getI18nMessage:n}=(0,g.Cq)(),r=n("delete_message_button.delete_message_button_text");return s.createElement("div",{className:"delete-message-btn",onClick:e=>{e.preventDefault(),t&&t()},onKeyDown:null,role:"button",tabIndex:-1},r)};function f(e){let t,{startDate:n,endDate:r,expirationInterval:a,isMessageSenderView:o,onMouseEnterTimer:i,onMouseLeaveTimer:l}=e,{getI18nMessage:c}=(0,g.Cq)(),d=s.useRef(!0);s.useEffect(()=>(d.current=!0,()=>d.current=!1));let u=s.useRef(!1),[m,p]=s.useState(!1);!u.current&&new Date().getTime()-n<1500&&(u.current=!0,p(!0),setTimeout(()=>{d.current&&p(!1)},1500));let h=m&&o?s.createElement("div",{className:"expiration-explanation"},c("live_message_time_indicator.live_message_time_indicator.expiration_explanation")):null,f=1-(r-n)/a,E=null===h?s.createElement("div",{className:"live-message-time-indicator-base",onMouseEnter:i,onMouseLeave:l},s.createElement("div",{className:f>.5?"live-message-time-indicator-mask mask-dark":"live-message-time-indicator-mask mask-light",style:(t=f>.5?-Math.round(f*(f-.5)*360):-Math.round(360*f),{transform:`rotate(${t}deg)`})})):s.createElement("div",{className:"spinner-animation-wrapper",onMouseEnter:i,onMouseLeave:l},s.createElement("div",{className:"spinner-animation-pie spinner-animation-spinner"}),s.createElement("div",{className:"spinner-animation-pie spinner-animation-filler"}),s.createElement("div",{className:"spinner-animation-mask"}));return s.createElement(s.Fragment,null,h,E)}h.propTypes=p,h.defaultProps={callback:null},h.displayName="DeleteMessageButton",n(765119),f.propTypes={startDate:a().number.isRequired,endDate:a().number.isRequired,expirationInterval:a().number.isRequired,isMessageSenderView:a().bool.isRequired,onMouseEnterTimer:a().func,onMouseLeaveTimer:a().func},f.defaultProps={onMouseEnterTimer:null,onMouseLeaveTimer:null};var E=n(191969);n(377868);let w={onMultipleRosters:a().bool.isRequired,haveSomeMessageFromAdmin:a().bool.isRequired,message:a().oneOfType([l.Z,c.Z]).isRequired,deleteButtonCallback:a().func,currentDate:a().instanceOf(Date).isRequired,expirationInterval:a().number.isRequired,isMessageSenderView:a().bool.isRequired,schoolId:a().number,acknowledgeMsgCallback:a().func,isExpanded:a().bool,onExpandMessage:a().func,onMouseEnterAcknowledgementCounts:a().func,onMouseLeaveAcknowledgementCounts:a().func};class v extends s.PureComponent{constructor(e){super(e),this.state={timeIndicatorHovered:!1,studentAcknowledgementStatus:e.message.acknowledgementStatus},this.ref=s.createRef(),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseExit=this._onMouseExit.bind(this),this._postAcknowledgement=this._postAcknowledgement.bind(this),this._expandMessageBox=this._expandMessageBox.bind(this),this._onDeleteButtonClick=this._onDeleteButtonClick.bind(this)}componentDidUpdate(){let{isMessageSenderView:e}=this.props,{couldExpand:t}=this.state;e&&!t&&this.ref.current.scrollHeight>this.ref.current.clientHeight&&this.setState({couldExpand:!0})}_expandMessageBox(){let{messageId:e}=this.props.message,{onExpandMessage:t}=this.props;t(e)}_postAcknowledgement(e){e.preventDefault();let{messageId:t}=this.props.message,{acknowledgeMsgCallback:n,isMessageSenderView:s}=this.props,{studentAcknowledgementStatus:r}=this.state,a=e.target.value,o=new FormData;o.append("messageId",t),o.append("response",a),this.setState({studentAcknowledgementStatus:a}),fetch("/liveMessage/acknowledgeMessage",{method:"POST",body:o}).then(e=>{if(400===e.status)throw 400;e.ok&&n&&!s&&n(t,a)}).catch(e=>{this.setState({studentAcknowledgementStatus:r})})}_onMouseEnter(){this.setState({timeIndicatorHovered:!0})}_onMouseExit(){this.setState({timeIndicatorHovered:!1})}_onDeleteButtonClick(){let{messageId:e,studentUserId:t,batchId:n,sentByAdministrator:s}=this.props.message,{schoolId:r,deleteButtonCallback:a,isMessageSenderView:o}=this.props,i=o&&s;e?((0,m.trackGA4Click)(u.GA4_FEATURE.LIVE_MESSAGE,i?u.GA4_MODULE.ADMIN_ACTIONS:u.GA4_MODULE.TEACHER_ACTIONS,u.GA4_BUTTON.DELETED_MESSAGE,u.GA4_CLICK_TEXT.CLICK_DELETE_BUTTON_INDIVIDUAL),a(t,e,r)):((0,m.trackGA4Click)(u.GA4_FEATURE.LIVE_MESSAGE,i?u.GA4_MODULE.ADMIN_ACTIONS:u.GA4_MODULE.TEACHER_ACTIONS,u.GA4_BUTTON.DELETED_BATCH_MESSAGE,u.GA4_CLICK_TEXT.CLICK_DELETE_BUTTON_ALL_STUDENTS),a(n))}render(){let{message:e,teacherName:t,messageId:n,creationDate:r,inBatch:a,batchId:o}=this.props.message,l=this.props.isMessageSenderView?null:this.state.studentAcknowledgementStatus,{currentDate:c,expirationInterval:d,isMessageSenderView:u,deleteButtonCallback:m,onMultipleRosters:p,haveSomeMessageFromAdmin:w,acknowledgeMsgCallback:v,isExpanded:b,onMouseEnterAcknowledgementCounts:k,onMouseLeaveAcknowledgementCounts:_}=this.props,A=!u&&(p||w),T=n&&a,{couldExpand:M}=this.state,C=i()("live-message-msg",{teacher:u,expanded:b}),S=i()("expand-message-button",{hidden:!M||b}),N=i()("message-content",{"sent-to-whole-class-content":!!a||!!o});return s.createElement("div",{className:C},s.createElement("button",{onClick:this._expandMessageBox,className:S},s.createElement("img",{alt:"",src:"/assets/live-message/teacher/down-arrow.svg?version=0"})),s.createElement("div",{ref:this.ref,className:N,dangerouslySetInnerHTML:{__html:e}}),s.createElement("div",{className:"message-info"},s.createElement("div",{className:"acknowledgements"},s.createElement(E.Z,{message:this.props.message,acknowledgementStatusOverride:l,isMessageSenderView:u,acknowledgeMsgCallback:v,postAcknowledgement:this._postAcknowledgement,onMouseEnterAcknowledgementCounts:k,onMouseLeaveAcknowledgementCounts:_})),s.createElement("div",{className:"right-side-fixed-width-container"},A&&s.createElement("div",{className:"teacher-name"},t),T&&s.createElement("div",{className:"sent-to-whole-class"},"(",s.createElement(g.xR,null,e=>{let{getI18nMessage:t}=e;return t(u?"message.message.individual_student_message_box.sent_to_whole_class":"message.message.sent_to_whole_class")}),")"),s.createElement("div",{className:"time-and-delete-container",onMouseLeave:u?this._onMouseExit:null},this.state.timeIndicatorHovered&&!T?s.createElement(h,{callback:m?this._onDeleteButtonClick:null}):s.createElement(f,{startDate:r,endDate:c.getTime(),expirationInterval:d,isMessageSenderView:u,onMouseEnterTimer:u?this._onMouseEnter:null,onMouseLeaveTimer:u?this._onMouseExit:null})))))}}v.propTypes=w,v.defaultProps={deleteButtonCallback:null,schoolId:-1,acknowledgeMsgCallback:null,isExpanded:!1,onExpandMessage:()=>{},onMouseEnterAcknowledgementCounts:()=>{},onMouseLeaveAcknowledgementCounts:()=>{}},v.displayName="Message";let b={messages:a().oneOfType([a().arrayOf(l.Z),a().arrayOf(c.Z)]).isRequired,expirationInterval:a().number.isRequired,onMultipleActiveRosters:a().bool.isRequired,onMessageExpired:a().func.isRequired,deleteButtonCallback:a().func,isMessageSenderView:a().bool.isRequired,schoolId:a().number,acknowledgeMsgCallback:a().func,onMouseEnterAcknowledgementCounts:a().func,onMouseLeaveAcknowledgementCounts:a().func,onExpandMessage:a().func,expandedMessageMap:a().object};class k extends s.PureComponent{constructor(e){super(e),this.state={isScrolledToTop:!0,currentDate:new Date},this.ref=s.createRef(),this._scrollToBottom=this._scrollToBottom.bind(this),this._onScroll=this._onScroll.bind(this),this._handleDateUpdate=this._handleDateUpdate.bind(this),this._updatedMessages=this._updateMessages.bind(this)}componentDidMount(){this.dateUpdate=setInterval(this._handleDateUpdate,1e4),this._handleDateUpdate(),this._scrollToBottom()}componentDidUpdate(e,t){d.q(e.messages,this.props.messages)&&this._scrollToBottom(),this.state.currentDate!==t.currentDate&&this._updateMessages()}componentWillUnmount(){clearInterval(this.dateUpdate)}_scrollToBottom(){let e=this.ref.current;e.scrollTop=e.scrollHeight}_updateMessages(){let{messages:e,expirationInterval:t,onMessageExpired:n}=this.props,s=this.state.currentDate.getTime(),r=e.filter(e=>s-e.creationDate>t).map(e=>e.messageId);r.length>0&&this.props.onMessageExpired(r)}_onScroll(e){this.setState({isScrolledToTop:0===e.target.scrollTop})}_handleDateUpdate(){this.setState({currentDate:new Date})}render(){let{messages:e,expirationInterval:t,onMultipleActiveRosters:n,deleteButtonCallback:r,isMessageSenderView:a,schoolId:o,acknowledgeMsgCallback:l,onMouseEnterAcknowledgementCounts:c,onMouseLeaveAcknowledgementCounts:d,expandedMessageMap:u,onExpandMessage:m}=this.props,g=e.some(e=>e.sentByAdministrator),p=e.map(e=>s.createElement(v,{onMultipleRosters:n,haveSomeMessageFromAdmin:g,message:e,deleteButtonCallback:r,expirationInterval:t,currentDate:this.state.currentDate,key:e.messageId||e.batchId,acknowledgementStatus:e.acknowledgementStatus,isMessageSenderView:a,schoolId:o,acknowledgeMsgCallback:l,isExpanded:u[e.messageId],onExpandMessage:m,onMouseEnterAcknowledgementCounts:c,onMouseLeaveAcknowledgementCounts:d})),h=i()("live-message-list",{"fade-top":!this.state.isScrolledToTop});return s.createElement("div",{className:h,onScroll:this._onScroll,ref:this.ref},p)}}k.propTypes=b,k.defaultProps={deleteButtonCallback:null,schoolId:-1,acknowledgeMsgCallback:null,onExpandMessage:()=>{},expandedMessageMap:{},onMouseEnterAcknowledgementCounts:()=>{},onMouseLeaveAcknowledgementCounts:()=>{}},k.displayName="MessageList";let _=k},269151:(e,t,n)=>{"use strict";function s(e){return function(t){var n=t.dispatch,s=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,s,e):t(r)}}}}n.d(t,{Z:()=>a});var r=s();r.withExtraArgument=s;let a=r},140661:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>s,$r:()=>a,U8:()=>r});let s={UNACKNOWLEDGED:"UNACKNOWLEDGED",GOT_IT:"GOT_IT",THANK_YOU:"THANK_YOU",CONFUSED:"CONFUSED",NO:"NO"},r=[s.GOT_IT,s.THANK_YOU,s.CONFUSED,s.NO,s.UNACKNOWLEDGED],a=-1},172253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var s=n(745247),r=n.n(s);let a=r().shape({message:r().string.isRequired,studentUserIdsByAcknowledgementStatus:r().objectOf(r().arrayOf(r().number)).isRequired,batchId:r().number.isRequired,creationDate:r().number.isRequired})},18687:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var s=n(745247),r=n.n(s);let a=r().shape({teacherName:r().string.isRequired,studentUserId:r().number.isRequired,sentByAdministrator:r().bool.isRequired,message:r().string.isRequired,creationDate:r().number.isRequired,acknowledgementStatus:r().string.isRequired,messageId:r().string.isRequired,inBatch:r().bool.isRequired})},230320:(e,t,n)=>{"use strict";function s(e,t){let n=new Set(e.map(e=>e.messageId));return t.some(e=>!n.has(e.messageId))}n.d(t,{q:()=>s}),n(519693),n(541921),n(379228),n(249223),n(93810),n(710467),n(105678),n(798265),n(921019),n(828023)},810033:(e,t,n)=>{n(249223),n(93810),n(710467),n(105678),n(798265),n(921019),n(828023);let{trackClick:s}=n(266361),{GA4_FEATURE:r,GA4_MODULE:a,GA4_BUTTON:o,GA4_CLICK_TEXT:i,GA4_CLICK_URL:l,GA4_INTERACTION_TYPE:c}=n(291481),d=new Set(Object.values(r)),u=new Set(Object.values(a)),m=new Set(Object.values(o)),g=new Set(Object.values(i)),p=new Set(Object.values(l)),h=(e,t,n,r,a)=>{s({feature:e,module:t,button:n,clickText:r,clickUrl:a,interactionType:c.CLICK,outbound:!1})};e.exports={trackGA4Click:(e,t,n,s,r)=>{if(!d.has(e))throw Error(e?"Required ga4 feature isn't provided.":`The ga4 feature isn't registered. Provided: '${e}'`);if(!u.has(t))throw Error(t?"Required ga4 module isn't provided.":`The ga4 module isn't registered. Provided: '${t}'`);if(!m.has(n))throw Error(n?"Required ga4 button isn't provided.":`The ga4 button isn't registered. Provided: '${n}'`);if(void 0!==s&&!g.has(s))throw Error(`The ga4 click text isn't registered. Provided: '${s}'`);if(void 0!==r&&!p.has(r))throw Error(`The ga4 click url isn't registered. Provided: '${r}'`);h(e,t,n,s,r)},unsafeTrackGA4Click:h}},266361:(e,t,n)=>{let{snakeCaseKeys:s}=n(972075),r=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];window.dataLayer?window.dataLayer.push(t?s(e):e):console.warn("dataLayer is not available. See docs in yui3/ixl/tracking-utils/dataLayer.js")};e.exports={pushToDataLayer:r,trackClick:e=>{let{feature:t,module:n,button:s,clickText:a=null,clickUrl:o=null,interactionType:i=null,outbound:l=null,...c}=e;return r({...c,event:"click_button",feature:t,module:n,button:s,clickText:a,clickUrl:o,interactionType:i,outbound:l})}}},972075:(e,t,n)=>{n(519693),n(541921),e.exports={snakeCaseKeys:e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[[...t].map(e=>e===e.toUpperCase()?`_${e.toLowerCase()}`:e).join(""),n]}))}},348694:e=>{"use strict";var t=TypeError;e.exports=function(e){if("string"==typeof e)return e;throw new t("Argument is not a string")}},29135:(e,t,n)=>{"use strict";var s=n(664173),r=String,a=TypeError;e.exports=function(e){if(void 0===e||s(e))return e;throw new a(r(e)+" is not an object or undefined")}},189995:(e,t,n)=>{"use strict";var s=n(287003),r=TypeError;e.exports=function(e){if("Uint8Array"===s(e))return e;throw new r("Argument is not an Uint8Array")}},217838:e=>{"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",s=t+"-_",r=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:r(n),i2cUrl:s,c2iUrl:r(s)}},78758:e=>{"use strict";var t=TypeError;e.exports=function(e){var n=e&&e.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new t("Incorrect `alphabet` option")}},928208:(e,t,n)=>{"use strict";var s=n(830392),r=n(814211),a=n(29135),o=n(348694),i=n(193458),l=n(217838),c=n(78758),d=n(156262),u=l.c2i,m=l.c2iUrl,g=s.SyntaxError,p=s.TypeError,h=r("".charAt),f=function(e,t){for(var n=e.length;t<n;t++){var s=h(e,t);if(" "!==s&&"	"!==s&&`
`!==s&&"\f"!==s&&"\r"!==s)break}return t},E=function(e,t,n){var s=e.length;s<4&&(e+=2===s?"AA":"A");var r=(t[h(e,0)]<<18)+(t[h(e,1)]<<12)+(t[h(e,2)]<<6)+t[h(e,3)],a=[r>>16&255,r>>8&255,255&r];if(2===s){if(n&&0!==a[1])throw new g("Extra bits");return[a[0]]}if(3===s){if(n&&0!==a[2])throw new g("Extra bits");return[a[0],a[1]]}return a},w=function(e,t,n){for(var s=t.length,r=0;r<s;r++)e[n+r]=t[r];return n+s};e.exports=function(e,t,n,s){o(e),a(t);var r="base64"===c(t)?u:m,l=t?t.lastChunkHandling:void 0;if(void 0===l&&(l="loose"),"loose"!==l&&"strict"!==l&&"stop-before-partial"!==l)throw new p("Incorrect `lastChunkHandling` option");n&&d(n.buffer);var v=n||[],b=0,k=0,_="",A=0;if(s)for(;;){if((A=f(e,A))===e.length){if(_.length>0){if("stop-before-partial"===l)break;if("loose"===l){if(1===_.length)throw new g("Malformed padding: exactly one additional character");b=w(v,E(_,r,!1),b)}else throw new g("Missing padding")}k=e.length;break}var T=h(e,A);if(++A,"="===T){if(_.length<2)throw new g("Padding is too early");if(A=f(e,A),2===_.length){if(A===e.length){if("stop-before-partial"===l)break;throw new g("Malformed padding: only one =")}"="===h(e,A)&&(A=f(e,++A))}if(A<e.length)throw new g("Unexpected character after padding");b=w(v,E(_,r,"strict"===l),b),k=e.length;break}if(!i(r,T))throw new g("Unexpected character");var M=s-b;if(1===M&&2===_.length||2===M&&3===_.length||4===(_+=T).length&&(b=w(v,E(_,r,!1),b),_="",k=A,b===s))break}return{bytes:v,read:k,written:b}}},968835:(e,t,n)=>{"use strict";var s=n(830392),r=n(814211),a=s.Uint8Array,o=s.SyntaxError,i=s.parseInt,l=Math.min,c=/[^\da-f]/i,d=r(c.exec),u=r("".slice);e.exports=function(e,t){var n=e.length;if(n%2!=0)throw new o("String should be an even number of characters");for(var s=t?l(t.length,n/2):n/2,r=t||new a(s),m=0,g=0;g<s;){var p=u(e,m,m+=2);if(d(c,p))throw new o("String should only contain hex characters");r[g++]=i(p,16)}return{bytes:r,read:m}}},563185:(e,t,n)=>{"use strict";var s=n(868210),r=n(830392),a=n(928208),o=n(189995);r.Uint8Array&&s({target:"Uint8Array",proto:!0},{setFromBase64:function(e){o(this);var t=a(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:t.read,written:t.written}}})},139868:(e,t,n)=>{"use strict";var s=n(868210),r=n(830392),a=n(348694),o=n(189995),i=n(156262),l=n(968835);r.Uint8Array&&s({target:"Uint8Array",proto:!0},{setFromHex:function(e){o(this),a(e),i(this.buffer);var t=l(e,this).read;return{read:t,written:t/2}}})},867081:(e,t,n)=>{"use strict";var s=n(868210),r=n(830392),a=n(814211),o=n(29135),i=n(189995),l=n(156262),c=n(217838),d=n(78758),u=c.i2c,m=c.i2cUrl,g=a("".charAt);r.Uint8Array&&s({target:"Uint8Array",proto:!0},{toBase64:function(){var e,t=i(this),n=arguments.length?o(arguments[0]):void 0,s="base64"===d(n)?u:m,r=!!n&&!!n.omitPadding;l(this.buffer);for(var a="",c=0,p=t.length,h=function(t){return g(s,e>>6*t&63)};c+2<p;c+=3)e=(t[c]<<16)+(t[c+1]<<8)+t[c+2],a+=h(3)+h(2)+h(1)+h(0);return c+2===p?(e=(t[c]<<16)+(t[c+1]<<8),a+=h(3)+h(2)+h(1)+(r?"":"=")):c+1===p&&(e=t[c]<<16,a+=h(3)+h(2)+(r?"":"==")),a}})},289260:(e,t,n)=>{"use strict";var s=n(868210),r=n(830392),a=n(814211),o=n(189995),i=n(156262),l=a(1..toString);r.Uint8Array&&s({target:"Uint8Array",proto:!0},{toHex:function(){o(this),i(this.buffer);for(var e="",t=0,n=this.length;t<n;t++){var s=l(this[t],16);e+=1===s.length?"0"+s:s}return e}})},92413:(e,t,n)=>{"use strict";function s(e,t){if(null==e)return{};var n={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}n.d(t,{Z:()=>s})}}]);